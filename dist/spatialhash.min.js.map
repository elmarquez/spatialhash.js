{"version":3,"sources":["spatialhash.js"],"names":["SpatialHash","config","self","this","INDEXING_STRATEGY","BOUNDED","UNBOUNDED","cells","cellSize","conversionFactor","envelopes","hashFn","indexingStrategy","max","min","objects","Object","keys","forEach","key","width","prototype","clear","getBoundedHashKey","pos","Error","Math","floor","getCellsIntersectingAABB","aabb","size","i","j","k","points","x","ceil","y","z","push","getCellsIntersectingFrustum","frustum","intersects","cell","intersectsBox","getDistance","p1","p2","length","sqrt","pow","getUnboundedHashKey","insert","id","reduce","entries","p","THREE","Box3","hasOwnProperty","envelope","intersectsViewSelection","near","radius","limit","Infinity","setFromCenterAndSize","nearest","remove","indexOf","splice"],"mappings":"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","file":"spatialhash.min.js"}